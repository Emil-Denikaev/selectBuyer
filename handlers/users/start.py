from aiogram import types
from aiogram.dispatcher.filters.builtin import CommandStart

from keyboards.inline.choice_buttons import start_info
from loader import dp, bot
from app import BotDB


@dp.message_handler(CommandStart())
async def bot_start(message: types.Message):
    if (not BotDB.user_exists(message.from_user.id)):
        BotDB.add_user(message.from_user.id)
    await bot.send_photo(chat_id=message.chat.id, photo=open("photos/robot_photo.png", "rb"), caption=(
        f"–ü—Ä–∏–≤–µ—Ç, {message.from_user.full_name}! \n"
        f"–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∏–º–µ–Ω–Ω–æ –Ω–∞—à —á–∞—Ç-–±–æ—Ç‚ù§\n \n"
        f"–ú—ã c–æ–∑–¥–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç, –ø–æ–º–æ–≥–∞—é—â–∏–π —Ä–∞–∑–≤–∏–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å: \n\n"
        f"‚ûñ –í –æ—Å–Ω–æ–≤–µ –Ω–∞—à–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ ‚Äî –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. \n"
        f"‚ûñ –ú—ã –∏–∑—É—á–∞–µ–º –∫–æ–º–ø–∞–Ω–∏—é –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤. \n"
        f"‚ûñ –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –ø—Ä–∏–±—ã–ª—å –∫–ª–∏–µ–Ω—Ç–æ–≤ –µ—â–µ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞. \n"
        f"‚ûñ –†–µ—à–∞–µ–º –∑–∞–¥–∞—á–∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –ü–æ–º–æ–≥–∞–µ–º –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏ –≤ digital-—Å—Ä–µ–¥–µ.\n"
        f"‚ûñ –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –º–æ–∂–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Å –Ω—É–ª—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –≤ —Ä–∞–º–∫–∞—Ö —É–∂–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏. \n\n"
        f"–£ –Ω–∞—Å —Ç—ã —Å–º–æ–∂–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–∞–∑—Ä–∞–±–∫–µ —Å–∞–π—Ç–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–æ–≤ü§ñ"))

    await message.answer(text="–ö–∞–∫–∞—è –æ—Ç—Ä–∞—Å–ª—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞?",
                         reply_markup=start_info)
